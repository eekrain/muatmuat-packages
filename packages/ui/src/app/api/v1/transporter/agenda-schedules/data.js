export const STATUS_CODES = [
  "BERTUGAS",
  "MENUNGGU_JAM_MUAT",
  "DIJADWALKAN",
  "PENGIRIMAN_SELESAI",
  "NON_AKTIF",
];

export const driverNames = [
  "Mulyadi Saputra",
  "Nur Aini",
  "Oki Pratama",
  "Putri Ayu",
  "Qomaruddin Syah",
  "Rina Marlina",
  "Slamet Riyadi",
  "Tri Handoko",
  "Umi Kalsum",
  "Vicky Nugraha",
  "Wahyu Hidayah",
  "Xavier Nugroho",
  "Yani Pratiwi",
  "Zulfikar Ramadhan",
  "Arif Wibowo",
  "Bella Anjani",
  "Cahyo Nugroho",
  "Dian Permata",
  "Endang Sri",
  "Farhan Firmansyah",
  "Gita Larasati",
  "Hendra Saputra",
  "Indah Purnama",
  "Johan Prasetya",
  "Kiki Amalia",
  "Linda Kurnia",
  "Mahendra Putra",
  "Nadia Salsabila",
  "Omar Satria",
  "Prasetyo Adi",
  "Rudi Hartono",
  "Sari Melati",
  "Taufik Ismail",
  "Ujang Koswara",
  "Vina Maharani",
  "Wulan Anggraini",
  "Yusuf Maulana",
  "Zahra Fitriana",
  "Bagus Priyanto",
  "Citra Anindya",
  "Dwi Saputro",
  "Erlangga Putra",
  "Fauzi Rahman",
  "Galuh Paramitha",
  "Hanif Setiawan",
  "Ilham Fauzan",
  "Jasmin Safira",
  "Kusnadi Hermawan",
  "Lestari Puspita",
];

export const truckTypes = [
  "Colt Diesel Engkel - Box",
  "Tronton Wing Box",
  "Fuso Box",
  "Pickup Bak",
  "Container 20ft",
  "Trailer Flatbed",
  "Colt Diesel Engkel - Bak",
  "Colt Diesel Double - Box",
  "Colt Diesel Double - Bak",
  "Tronton Bak Terbuka",
  "Fuso Wing Box",
  "Fuso Bak Terbuka",
  "Pickup Box",
  "Container 40ft",
  "Trailer Lowbed",
  "Trailer Box",
  "Engkel Box Pendingin",
  "Double Box Pendingin",
  "Tronton Tangki",
  "Trailer Tangki",
];

export const locations = [
  "Rest Area KM 50",
  "Garasi Pool Kendaraan",
  "Pelabuhan Tanjung Priok",
  "Gudang Utama, Jakarta Utara",
  "Pabrik Tekstil, Bandung Barat",
  "Depo Kontainer, Tanjung Perak",
  "Pusat Distribusi, Banjarmasin",
  "Kawasan Industri Cikarang",
  "Gudang Logistik, Semarang",
  "Pelabuhan Soekarno-Hatta, Makassar",
  "Gudang Pendingin, Surabaya",
  "Pabrik Makanan, Bogor",
  "Pelabuhan Panjang, Lampung",
  "Depo Peti Kemas, Belawan",
  "Kawasan Industri Jababeka",
  "Gudang Ekspedisi, Medan",
  "Pusat Pergudangan, Denpasar",
  "Terminal Kargo, Balikpapan",
  "Rest Area KM 102",
  "Pabrik Semen, Gresik",
  "Pelabuhan Bitung, Manado",
  "Gudang Farmasi, Bekasi",
  "Depo Logistik, Palembang",
  "Kawasan Industri Sidoarjo",
  "Pusat Distribusi, Pontianak",
  "Pelabuhan Tenau, Kupang",
  "Gudang Umum, Yogyakarta",
  "Pabrik Kertas, Karawang",
  "Rest Area KM 72",
  "Depo Truk, Tangerang",
  "Gudang Pakaian, Cirebon",
  "Pelabuhan Sampit, Kalimantan Tengah",
  "Kawasan Industri Batam",
  "Gudang Bahan Kimia, Cilacap",
  "Pusat Logistik, Banda Aceh",
  "Rest Area KM 200",
  "Pelabuhan Jayapura",
  "Pabrik Baja, Cilegon",
  "Gudang Kayu, Pekanbaru",
  "Depo Minyak, Balongan",
  "Kawasan Industri Morowali",
  "Gudang Beras, Indramayu",
  "Pelabuhan Ketapang, Banyuwangi",
  "Terminal Petikemas, Surabaya",
  "Pabrik Minuman, Sukabumi",
  "Rest Area KM 125",
  "Gudang Elektronik, Depok",
  "Pelabuhan Kendari",
  "Kawasan Pergudangan, Samarinda",
  "Pabrik Ban, Majalengka",
  "Gudang Material, Purwokerto",
  "Depo Kontainer, Sorong",
  "Pusat Distribusi, Ternate",
  "Pelabuhan Fakfak",
  "Rest Area KM 88",
  "Gudang Otomotif, Malang",
  "Kawasan Industri Pulogadung",
  "Pabrik Plastik, Serang",
  "Gudang Sembako, Garut",
  "Depo Logistik, Mataram",
  "Pelabuhan Ambon",
  "Pusat Pergudangan, Padang",
  "Gudang Besi, Tasikmalaya",
  "Rest Area KM 150",
  "Pelabuhan Parepare",
  "Pabrik Keramik, Klaten",
  "Gudang Kaca, Kendal",
  "Depo Truk, Banjarbaru",
  "Kawasan Industri Kendal",
  "Pusat Logistik, Manokwari",
  "Pelabuhan Bau-Bau",
  "Rest Area KM 230",
  "Gudang Kain, Jepara",
  "Pabrik Obat, Solo",
  "Gudang Peralatan, Tegal",
  "Pelabuhan Lembar, Lombok",
  "Kawasan Industri Pasuruan",
  "Depo Peti Kemas, Dumai",
  "Pusat Distribusi, Bontang",
  "Rest Area KM 310",
  "Pelabuhan Bima",
  "Gudang Bumbu, Blitar",
  "Pabrik Susu, Boyolali",
  "Gudang Perikanan, Bitung",
  "Depo Kontainer, Tarakan",
  "Pelabuhan Singkil",
  "Kawasan Industri Balikpapan",
  "Pusat Pergudangan, Probolinggo",
  "Gudang Alat Berat, Kudus",
  "Rest Area KM 400",
  "Pelabuhan Tual",
  "Pabrik Furniture, Madiun",
  "Gudang Perkebunan, Lubuklinggau",
  "Depo Logistik, Pangkalan Bun",
  "Pelabuhan Saumlaki",
  "Kawasan Industri Gowa",
  "Gudang Kopi, Aceh Tengah",
  "Rest Area KM 450",
];

export const randomEmail = [
  "alexturner491@gmail.com",
  "sophie.jenkins82@gmail.com",
  "michael92ross@gmail.com",
  "emma.lane44@gmail.com",
  "daniel.torres87@gmail.com",
  "chloe.martin23@gmail.com",
  "liam.sanders99@gmail.com",
  "isabella.green08@gmail.com",
  "nathan.carter54@gmail.com",
  "mia.hughes76@gmail.com",
  "lucas.hill37@gmail.com",
  "grace.walker21@gmail.com",
  "ethan.brown65@gmail.com",
  "olivia.taylor70@gmail.com",
  "james.wilson47@gmail.com",
  "ava.roberts93@gmail.com",
  "benjamin.clark16@gmail.com",
  "amelia.moore28@gmail.com",
  "jackson.king42@gmail.com",
  "ella.scott84@gmail.com",
  "sebastian.lewis11@gmail.com",
  "harper.young30@gmail.com",
  "matthew.hall74@gmail.com",
  "charlotte.wright52@gmail.com",
  "logan.adams06@gmail.com",
  "scarlett.evans33@gmail.com",
  "henry.white48@gmail.com",
  "zoe.morgan90@gmail.com",
  "alexander.bailey25@gmail.com",
  "lily.cook77@gmail.com",
  "samuel.cooper19@gmail.com",
  "hannah.bell62@gmail.com",
  "david.ward36@gmail.com",
  "nora.turner55@gmail.com",
  "joseph.morris18@gmail.com",
  "aria.hughes26@gmail.com",
  "owen.long73@gmail.com",
  "elizabeth.parker40@gmail.com",
  "leo.jenkins12@gmail.com",
  "ella.stewart95@gmail.com",
  "ryan.henderson07@gmail.com",
  "mia.barnes53@gmail.com",
  "gabriel.mitchell29@gmail.com",
  "sophia.wood39@gmail.com",
  "christopher.price22@gmail.com",
  "zoe.richardson88@gmail.com",
  "julian.foster61@gmail.com",
  "aubrey.patterson15@gmail.com",
  "isaac.murphy46@gmail.com",
  "madison.rivera10@gmail.com",
];

export const randomPhoneNumber = [
  "0812-3456-7890",
  "0813-9876-5432",
  "0814-1234-5678",
  "0815-8765-4321",
  "0816-2468-1357",
  "0817-9753-8642",
  "0818-5678-9012",
  "0819-3456-7890",
  "0821-7890-1234",
  "0822-4567-8901",
  "0823-6789-0123",
  "0824-9012-3456",
  "0825-1357-2468",
  "0826-8642-9753",
  "0827-5432-1098",
  "0828-7654-3210",
  "0829-0987-6543",
  "0831-2345-6789",
  "0832-8901-2345",
  "0833-4567-8901",
  "0834-6789-0123",
  "0835-9012-3456",
  "0836-1357-2468",
  "0837-8642-9753",
  "0838-5432-1098",
  "0851-7654-3210",
  "0852-0987-6543",
  "0853-2345-6789",
  "0854-8901-2345",
  "0855-4567-8901",
  "0856-6789-0123",
  "0857-9012-3456",
  "0858-1357-2468",
  "0859-8642-9753",
  "0877-5432-1098",
  "0878-7654-3210",
  "0879-0987-6543",
  "0881-2345-6789",
  "0882-8901-2345",
  "0883-4567-8901",
  "0884-6789-0123",
  "0885-9012-3456",
  "0886-1357-2468",
  "0887-8642-9753",
  "0888-5432-1098",
  "0889-7654-3210",
  "0895-0987-6543",
  "0896-2345-6789",
  "0897-8901-2345",
  "0898-4567-8901",
];

// --- All your helper and generator functions go here ---
const getRandomElement = (arr) => arr[Math.floor(Math.random() * arr.length)];
const getRandomInt = (min, max) =>
  Math.floor(Math.random() * (max - min + 1)) + min;

const generateScheduleEvent = ({ view_type }) => {
  const isConflicted = Math.random() < 0.02;
  let statusCode, position, scheduled, additional;

  if (isConflicted) {
    statusCode = "BERTUGAS";
    scheduled = 1;
    additional = 0;
    position = getRandomInt(0, 4);
  } else {
    statusCode = getRandomElement(
      STATUS_CODES.filter((s) => s !== "BERTUGAS" || Math.random() > 0.15)
    );
    const positionPattern = getRandomElement([
      "fully_in_view",
      "starts_before",
      "ends_after",
    ]);
    additional = getRandomInt(0, 1);
    switch (positionPattern) {
      case "starts_before": {
        position = getRandomInt(-3, -1);
        const minScheduled = 1 - position - additional;
        const maxScheduledByView = 5 - position - additional;
        const finalMaxScheduled = Math.min(maxScheduledByView, 3);
        scheduled = getRandomInt(minScheduled, finalMaxScheduled);
        break;
      }
      case "ends_after": {
        position = getRandomInt(2, 4);
        const minScheduled = 6 - position - additional;
        scheduled = getRandomInt(Math.max(1, minScheduled), 3);
        break;
      }
      case "fully_in_view":
      default: {
        position = getRandomInt(0, 4);
        const maxScheduledByView = Math.max(1, 5 - position - additional);
        const finalMaxScheduled = Math.min(maxScheduledByView, 3);
        scheduled = getRandomInt(1, finalMaxScheduled);
        break;
      }
    }
  }

  const isInactive = statusCode === "NON_AKTIF";
  const isFinished = statusCode === "PENGIRIMAN_SELESAI";

  return {
    id: String(Math.random()),
    orderID: String(Math.random()),
    fleetID: String(Math.random()),
    driverID: String(Math.random()),
    scheduleDate: new Date(),
    scheduleEndDate: new Date(),
    additionalUnloadTimeStart: new Date(),
    additionalUnloadTimeEnd: new Date(),
    scheduledStartTime: new Date(),
    scheduledEndTime: new Date(),
    agendaStatus: statusCode,
    position,
    scheduled,
    additional,
    hasSosIssue: statusCode === "BERTUGAS" && Math.random() < 0.5,
    isConflicted,
    estimation: {
      currentLocation: isInactive
        ? "Garasi Pool Kendaraan"
        : getRandomElement(locations),
      nextDistance: isInactive || isFinished ? 0 : getRandomInt(5, 50),
      nextTime: isInactive || isFinished ? 0 : getRandomInt(10, 120),
    },
    firstDestinationName: getRandomElement(locations),
    estimatedTotalDistanceKm: getRandomInt(50, 500),
    lastDestinationName: getRandomElement(locations),
    driverName: view_type === "armada" ? getRandomElement(driverNames) : null,
    licensePlate:
      view_type === "driver"
        ? `${getRandomElement(truckTypes).split(" - ")[0]} Plate`
        : null,
    truckType: view_type === "driver" ? getRandomElement(truckTypes) : null,
  };
};

const generateArmadaViewDataset = (size = 45) => {
  const records = new Map();
  const availablePlates = [
    ...new Set(
      driverNames.map(
        (d) =>
          `${d.split(" ")[0][0]} ${getRandomInt(1000, 9999)} ${d.split(" ")[1].substring(0, 3).toUpperCase()}`
      )
    ),
  ];
  let safeguard = 0;
  while (
    records.size < Math.min(size, availablePlates.length) &&
    safeguard < 500
  ) {
    const plate = getRandomElement(availablePlates);
    if (!records.has(plate)) {
      records.set(plate, {
        licensePlate: plate,
        truckType: getRandomElement(truckTypes),
        driverName: null,
        driverPhone: null,
        driverEmail: null,
        schedule: Array.from({ length: getRandomInt(1, 2) }, () =>
          generateScheduleEvent({ view_type: "armada" })
        ),
      });
    }
    safeguard++;
  }
  return Array.from(records.values());
};

const generateDriverViewDataset = (size = driverNames.length) => {
  return driverNames.slice(0, size).map((driver) => {
    const driverEmail =
      randomEmail[Math.floor(Math.random() * randomEmail.length)];
    return {
      licensePlate: null,
      truckType: null,
      driverName: driver,
      driverPhone: getRandomElement(randomPhoneNumber),
      driverEmail: driverEmail,
      schedule: Array.from({ length: getRandomInt(1, 3) }, () =>
        generateScheduleEvent({ view_type: "driver" })
      ),
    };
  });
};

// Generate the full datasets once and export them
export const MOCK_DATABASE = {
  armada: generateArmadaViewDataset(50), // Increased from default 45 to 50
  driver: generateDriverViewDataset(50), // Increased from default to 50
};
